<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>gauge | estebang23.github.io</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="gauge" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/node_modules/gauge/" />
<meta property="og:url" content="http://localhost:4000/node_modules/gauge/" />
<meta property="og:site_name" content="estebang23.github.io" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/node_modules/gauge/","headline":"gauge","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=08194154e5c3f87742365edb210c0599bab19902">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">estebang23.github.io</a></h1>
      

      <h1 id="gauge">gauge</h1>

<p>A nearly stateless terminal based horizontal gauge / progress bar.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">Gauge</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"gauge"</span><span class="p">)</span>

<span class="kd">var</span> <span class="nx">gauge</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Gauge</span><span class="p">()</span>

<span class="nx">gauge</span><span class="p">.</span><span class="nx">show</span><span class="p">(</span><span class="s2">"test"</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">)</span>

<span class="nx">gauge</span><span class="p">.</span><span class="nx">pulse</span><span class="p">(</span><span class="s2">"this"</span><span class="p">)</span>

<span class="nx">gauge</span><span class="p">.</span><span class="nx">hide</span><span class="p">()</span>
</code></pre></div></div>

<p><img src="gauge-demo.gif" alt="" /></p>

<h3 id="changes-from-1x">CHANGES FROM 1.x</h3>

<p>Gauge 2.x is breaking release, please see the <a href="/node_modules/gauge/CHANGELOG.html">changelog</a> for details on
what’s changed if you were previously a user of this module.</p>

<h3 id="the-gauge-class">THE GAUGE CLASS</h3>

<p>This is the typical interface to the module– it provides a pretty
fire-and-forget interface to displaying your status information.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var Gauge = require("gauge")

var gauge = new Gauge([stream], [options])
</code></pre></div></div>

<ul>
  <li><strong>stream</strong> – <em>(optional, default STDERR)</em> A stream that progress bar
updates are to be written to.  Gauge honors backpressure and will pause
most writing if it is indicated.</li>
  <li><strong>options</strong> – <em>(optional)</em> An option object.</li>
</ul>

<p>Constructs a new gauge. Gauges are drawn on a single line, and are not drawn
if <strong>stream</strong> isn’t a tty and a tty isn’t explicitly provided.</p>

<p>If <strong>stream</strong> is a terminal or if you pass in <strong>tty</strong> to <strong>options</strong> then we
will detect terminal resizes and redraw to fit.  We do this by watching for
<code class="highlighter-rouge">resize</code> events on the tty.  (To work around a bug in verisons of Node prior
to 2.5.0, we watch for them on stdout if the tty is stderr.) Resizes to
larger window sizes will be clean, but shrinking the window will always
result in some cruft.</p>

<p><strong>IMPORTANT:</strong> If you prevously were passing in a non-tty stream but you still
want output (for example, a stream wrapped by the <code class="highlighter-rouge">ansi</code> module) then you
need to pass in the <strong>tty</strong> option below, as <code class="highlighter-rouge">gauge</code> needs access to
the underlying tty in order to do things like terminal resizes and terminal
width detection.</p>

<p>The <strong>options</strong> object can have the following properties, all of which are
optional:</p>

<ul>
  <li><strong>updateInterval</strong>: How often gauge updates should be drawn, in miliseconds.</li>
  <li><strong>fixedFramerate</strong>: Defaults to false on node 0.8, true on everything
else.  When this is true a timer is created to trigger once every
<code class="highlighter-rouge">updateInterval</code> ms, when false, updates are printed as soon as they come
in but updates more often than <code class="highlighter-rouge">updateInterval</code> are ignored.  The reason
0.8 doesn’t have this set to true is that it can’t <code class="highlighter-rouge">unref</code> its timer and
so it would stop your program from exiting– if you want to use this
feature with 0.8 just make sure you call <code class="highlighter-rouge">gauge.disable()</code> before you
expect your program to exit.</li>
  <li><strong>themes</strong>: A themeset to use when selecting the theme to use. Defaults
to <code class="highlighter-rouge">gauge/themes</code>, see the <a href="#themes">themes</a> documentation for details.</li>
  <li><strong>theme</strong>: Select a theme for use, it can be a:
    <ul>
      <li>Theme object, in which case the <strong>themes</strong> is not used.</li>
      <li>The name of a theme, which will be looked up in the current <em>themes</em>
object.</li>
      <li>A configuration object with any of <code class="highlighter-rouge">hasUnicode</code>, <code class="highlighter-rouge">hasColor</code> or
<code class="highlighter-rouge">platform</code> keys, which if wlll be used to override our guesses when making
a default theme selection.</li>
    </ul>

    <p>If no theme is selected then a default is picked using a combination of our
best guesses at your OS, color support and unicode support.</p>
  </li>
  <li><strong>template</strong>: Describes what you want your gauge to look like.  The
default is what npm uses.  Detailed <a href="#templates">documentation</a> is later in this
document.</li>
  <li><strong>hideCursor</strong>: Defaults to true.  If true, then the cursor will be hidden
while the gauge is displayed.</li>
  <li><strong>tty</strong>: The tty that you’re ultimately writing to.  Defaults to the same
as <strong>stream</strong>.  This is used for detecting the width of the terminal and
resizes. The width used is <code class="highlighter-rouge">tty.columns - 1</code>. If no tty is available then
a width of <code class="highlighter-rouge">79</code> is assumed.</li>
  <li><strong>enabled</strong>: Defaults to true if <code class="highlighter-rouge">tty</code> is a TTY, false otherwise.  If true
the gauge starts enabled.  If disabled then all update commands are
ignored and no gauge will be printed until you call <code class="highlighter-rouge">.enable()</code>.</li>
  <li><strong>Plumbing</strong>: The class to use to actually generate the gauge for
printing.  This defaults to <code class="highlighter-rouge">require('gauge/plumbing')</code> and ordinarly you
shouldn’t need to override this.</li>
  <li><strong>cleanupOnExit</strong>: Defaults to true. Ordinarily we register an exit
handler to make sure your cursor is turned back on and the progress bar
erased when your process exits, even if you Ctrl-C out or otherwise exit
unexpectedly. You can disable this and it won’t register the exit handler.</li>
</ul>

<h4 id="gaugeshowsection--status-completed"><code class="highlighter-rouge">gauge.show(section | status, [completed])</code></h4>

<p>The first argument is either the section, the name of the current thing
contributing to progress, or an object with keys like <strong>section</strong>,
<strong>subsection</strong> &amp; <strong>completed</strong> (or any others you have types for in a custom
template).  If you don’t want to update or set any of these you can pass
<code class="highlighter-rouge">null</code> and it will be ignored.</p>

<p>The second argument is the percent completed as a value between 0 and 1.
Without it, completion is just not updated. You’ll also note that completion
can be passed in as part of a status object as the first argument. If both
it and the completed argument are passed in, the completed argument wins.</p>

<h4 id="gaugehidecb"><code class="highlighter-rouge">gauge.hide([cb])</code></h4>

<p>Removes the gauge from the terminal.  Optionally, callback <code class="highlighter-rouge">cb</code> after IO has
had an opportunity to happen (currently this just means after <code class="highlighter-rouge">setImmediate</code>
has called back.)</p>

<p>It turns out this is important when you’re pausing the progress bar on one
filehandle and printing to another– otherwise (with a big enough print) node
can end up printing the “end progress bar” bits to the progress bar filehandle
while other stuff is printing to another filehandle. These getting interleaved
can cause corruption in some terminals.</p>

<h4 id="gaugepulsesubsection"><code class="highlighter-rouge">gauge.pulse([subsection])</code></h4>

<ul>
  <li><strong>subsection</strong> – <em>(optional)</em> The specific thing that triggered this pulse</li>
</ul>

<p>Spins the spinner in the gauge to show output.  If <strong>subsection</strong> is
included then it will be combined with the last name passed to <code class="highlighter-rouge">gauge.show</code>.</p>

<h4 id="gaugedisable"><code class="highlighter-rouge">gauge.disable()</code></h4>

<p>Hides the gauge and ignores further calls to <code class="highlighter-rouge">show</code> or <code class="highlighter-rouge">pulse</code>.</p>

<h4 id="gaugeenable"><code class="highlighter-rouge">gauge.enable()</code></h4>

<p>Shows the gauge and resumes updating when <code class="highlighter-rouge">show</code> or <code class="highlighter-rouge">pulse</code> is called.</p>

<h4 id="gaugeisenabled"><code class="highlighter-rouge">gauge.isEnabled()</code></h4>

<p>Returns true if the gauge is enabled.</p>

<h4 id="gaugesetthemesetthemes"><code class="highlighter-rouge">gauge.setThemeset(themes)</code></h4>

<p>Change the themeset to select a theme from. The same as the <code class="highlighter-rouge">themes</code> option
used in the constructor. The theme will be reselected from this themeset.</p>

<h4 id="gaugesetthemetheme"><code class="highlighter-rouge">gauge.setTheme(theme)</code></h4>

<p>Change the active theme, will be displayed with the next show or pulse. This can be:</p>

<ul>
  <li>Theme object, in which case the <strong>themes</strong> is not used.</li>
  <li>The name of a theme, which will be looked up in the current <em>themes</em>
object.</li>
  <li>A configuration object with any of <code class="highlighter-rouge">hasUnicode</code>, <code class="highlighter-rouge">hasColor</code> or
<code class="highlighter-rouge">platform</code> keys, which if wlll be used to override our guesses when making
a default theme selection.</li>
</ul>

<p>If no theme is selected then a default is picked using a combination of our
best guesses at your OS, color support and unicode support.</p>

<h4 id="gaugesettemplatetemplate"><code class="highlighter-rouge">gauge.setTemplate(template)</code></h4>

<p>Change the active template, will be displayed with the next show or pulse</p>

<h3 id="tracking-completion">Tracking Completion</h3>

<p>If you have more than one thing going on that you want to track completion
of, you may find the related <a href="https://www.npmjs.com/package/are-we-there-yet">are-we-there-yet</a> helpful.  It’s <code class="highlighter-rouge">change</code>
event can be wired up to the <code class="highlighter-rouge">show</code> method to get a more traditional
progress bar interface.</p>

<h3 id="themes">THEMES</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var themes = require('gauge/themes')

// fetch the default color unicode theme for this platform
var ourTheme = themes({hasUnicode: true, hasColor: true})

// fetch the default non-color unicode theme for osx
var ourTheme = themes({hasUnicode: true, hasColor: false, platform: 'darwin'})

// create a new theme based on the color ascii theme for this platform
// that brackets the progress bar with arrows
var ourTheme = themes.newTheme(theme(hasUnicode: false, hasColor: true}), {
  preProgressbar: '→',
  postProgressbar: '←'
})
</code></pre></div></div>

<p>The object returned by <code class="highlighter-rouge">gauge/themes</code> is an instance of the <code class="highlighter-rouge">ThemeSet</code> class.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var ThemeSet = require('gauge/theme-set')
var themes = new ThemeSet()
// or
var themes = require('gauge/themes')
var mythemes = themes.newThemeset() // creates a new themeset based on the default themes
</code></pre></div></div>

<h4 id="themesopts">themes(opts)</h4>
<h4 id="themesgetdefaultopts">themes.getDefault(opts)</h4>

<p>Theme objects are a function that fetches the default theme based on
platform, unicode and color support.</p>

<p>Options is an object with the following properties:</p>

<ul>
  <li><strong>hasUnicode</strong> - If true, fetch a unicode theme, if no unicode theme is
available then a non-unicode theme will be used.</li>
  <li><strong>hasColor</strong> - If true, fetch a color theme, if no color theme is
available a non-color theme will be used.</li>
  <li><strong>platform</strong> (optional) - Defaults to <code class="highlighter-rouge">process.platform</code>.  If no
platform match is available then <code class="highlighter-rouge">fallback</code> is used instead.</li>
</ul>

<p>If no compatible theme can be found then an error will be thrown with a
<code class="highlighter-rouge">code</code> of <code class="highlighter-rouge">EMISSINGTHEME</code>.</p>

<h4 id="themesaddthemethemename-themeobj">themes.addTheme(themeName, themeObj)</h4>
<h4 id="themesaddthemethemename-parenttheme-newtheme">themes.addTheme(themeName, [parentTheme], newTheme)</h4>

<p>Adds a named theme to the themeset.  You can pass in either a theme object,
as returned by <code class="highlighter-rouge">themes.newTheme</code> or the arguments you’d pass to
<code class="highlighter-rouge">themes.newTheme</code>.</p>

<h4 id="themesgetthemenames">themes.getThemeNames()</h4>

<p>Return a list of all of the names of the themes in this themeset. Suitable
for use in <code class="highlighter-rouge">themes.getTheme(…)</code>.</p>

<h4 id="themesgetthemename">themes.getTheme(name)</h4>

<p>Returns the theme object from this theme set named <code class="highlighter-rouge">name</code>.</p>

<p>If <code class="highlighter-rouge">name</code> does not exist in this themeset an error will be thrown with
a <code class="highlighter-rouge">code</code> of <code class="highlighter-rouge">EMISSINGTHEME</code>.</p>

<h4 id="themessetdefaultopts-themename">themes.setDefault([opts], themeName)</h4>

<p><code class="highlighter-rouge">opts</code> is an object with the following properties.</p>

<ul>
  <li><strong>platform</strong> - Defaults to <code class="highlighter-rouge">'fallback'</code>.  If your theme is platform
specific, specify that here with the platform from <code class="highlighter-rouge">process.platform</code>, eg,
<code class="highlighter-rouge">win32</code>, <code class="highlighter-rouge">darwin</code>, etc.</li>
  <li><strong>hasUnicode</strong> - Defaults to <code class="highlighter-rouge">false</code>. If your theme uses unicode you
should set this to true.</li>
  <li><strong>hasColor</strong> - Defaults to <code class="highlighter-rouge">false</code>.  If your theme uses color you should
set this to true.</li>
</ul>

<p><code class="highlighter-rouge">themeName</code> is the name of the theme (as given to <code class="highlighter-rouge">addTheme</code>) to use for
this set of <code class="highlighter-rouge">opts</code>.</p>

<h4 id="themesnewthemeparenttheme-newtheme">themes.newTheme([parentTheme,] newTheme)</h4>

<p>Create a new theme object based on <code class="highlighter-rouge">parentTheme</code>.  If no <code class="highlighter-rouge">parentTheme</code> is
provided then a minimal parentTheme that defines functions for rendering the
activity indicator (spinner) and progress bar will be defined. (This
fallback parent is defined in <code class="highlighter-rouge">gauge/base-theme</code>.)</p>

<p>newTheme should be a bare object– we’ll start by discussing the properties
defined by the default themes:</p>

<ul>
  <li><strong>preProgressbar</strong> - displayed prior to the progress bar, if the progress
bar is displayed.</li>
  <li><strong>postProgressbar</strong> - displayed after the progress bar, if the progress bar
is displayed.</li>
  <li><strong>progressBarTheme</strong> - The subtheme passed through to the progress bar
renderer, it’s an object with <code class="highlighter-rouge">complete</code> and <code class="highlighter-rouge">remaining</code> properties
that are the strings you want repeated for those sections of the progress
bar.</li>
  <li><strong>activityIndicatorTheme</strong> - The theme for the activity indicator (spinner),
this can either be a string, in which each character is a different step, or
an array of strings.</li>
  <li><strong>preSubsection</strong> - Displayed as a separator between the <code class="highlighter-rouge">section</code> and
<code class="highlighter-rouge">subsection</code> when the latter is printed.</li>
</ul>

<p>More generally, themes can have any value that would be a valid value when rendering
templates. The properties in the theme are used when their name matches a type in
the template. Their values can be:</p>

<ul>
  <li><strong>strings &amp; numbers</strong> - They’ll be included as is</li>
  <li><strong>function (values, theme, width)</strong> - Should return what you want in your output.
<em>values</em> is an object with values provided via <code class="highlighter-rouge">gauge.show</code>,
<em>theme</em> is the theme specific to this item (see below) or this theme object,
and <em>width</em> is the number of characters wide your result should be.</li>
</ul>

<p>There are a couple of special prefixes:</p>

<ul>
  <li><strong>pre</strong> - Is shown prior to the property, if its displayed.</li>
  <li><strong>post</strong> - Is shown after the property, if its displayed.</li>
</ul>

<p>And one special suffix:</p>

<ul>
  <li><strong>Theme</strong> - Its value is passed to a function-type item as the theme.</li>
</ul>

<h4 id="themesaddtoallthemestheme">themes.addToAllThemes(theme)</h4>

<p>This <em>mixes-in</em> <code class="highlighter-rouge">theme</code> into all themes currently defined. It also adds it
to the default parent theme for this themeset, so future themes added to
this themeset will get the values from <code class="highlighter-rouge">theme</code> by default.</p>

<h4 id="themesnewthemeset">themes.newThemeset()</h4>

<p>Copy the current themeset into a new one.  This allows you to easily inherit
one themeset from another.</p>

<h3 id="templates">TEMPLATES</h3>

<p>A template is an array of objects and strings that, after being evaluated,
will be turned into the gauge line.  The default template is:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span>
    <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="s1">'progressbar'</span><span class="p">,</span> <span class="na">length</span><span class="p">:</span> <span class="mi">20</span><span class="p">},</span>
    <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="s1">'activityIndicator'</span><span class="p">,</span> <span class="na">kerning</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">length</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
    <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="s1">'section'</span><span class="p">,</span> <span class="na">kerning</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">default</span><span class="p">:</span> <span class="s1">''</span><span class="p">},</span>
    <span class="p">{</span><span class="na">type</span><span class="p">:</span> <span class="s1">'subsection'</span><span class="p">,</span> <span class="na">kerning</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">default</span><span class="p">:</span> <span class="s1">''</span><span class="p">}</span>
<span class="p">]</span>
</code></pre></div></div>

<p>The various template elements can either be <strong>plain strings</strong>, in which case they will
be be included verbatum in the output, or objects with the following properties:</p>

<ul>
  <li><em>type</em> can be any of the following plus any keys you pass into <code class="highlighter-rouge">gauge.show</code> plus
any keys you have on a custom theme.
    <ul>
      <li><code class="highlighter-rouge">section</code> – What big thing you’re working on now.</li>
      <li><code class="highlighter-rouge">subsection</code> – What component of that thing is currently working.</li>
      <li><code class="highlighter-rouge">activityIndicator</code> – Shows a spinner using the <code class="highlighter-rouge">activityIndicatorTheme</code>
from your active theme.</li>
      <li><code class="highlighter-rouge">progressbar</code> – A progress bar representing your current <code class="highlighter-rouge">completed</code>
using the <code class="highlighter-rouge">progressbarTheme</code> from your active theme.</li>
    </ul>
  </li>
  <li><em>kerning</em> – Number of spaces that must be between this item and other
items, if this item is displayed at all.</li>
  <li><em>maxLength</em> – The maximum length for this element. If its value is longer it
will be truncated.</li>
  <li><em>minLength</em> – The minimum length for this element. If its value is shorter it
will be padded according to the <em>align</em> value.</li>
  <li><em>align</em> – (Default: left) Possible values “left”, “right” and “center”. Works
as you’d expect from word processors.</li>
  <li><em>length</em> – Provides a single value for both <em>minLength</em> and <em>maxLength</em>. If both
<em>length</em> and <em>minLength or *maxLength</em> are specifed then the latter take precedence.</li>
  <li><em>value</em> – A literal value to use for this template item.</li>
  <li><em>default</em> – A default value to use for this template item if a value
wasn’t otherwise passed in.</li>
</ul>

<h3 id="plumbing">PLUMBING</h3>

<p>This is the super simple, assume nothing, do no magic internals used by gauge to
implement its ordinary interface.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>var Plumbing = require('gauge/plumbing')
var gauge = new Plumbing(theme, template, width)
</code></pre></div></div>

<ul>
  <li><strong>theme</strong>: The theme to use.</li>
  <li><strong>template</strong>: The template to use.</li>
  <li><strong>width</strong>: How wide your gauge should be</li>
</ul>

<h4 id="gaugesetthemetheme-1"><code class="highlighter-rouge">gauge.setTheme(theme)</code></h4>

<p>Change the active theme.</p>

<h4 id="gaugesettemplatetemplate-1"><code class="highlighter-rouge">gauge.setTemplate(template)</code></h4>

<p>Change the active template.</p>

<h4 id="gaugesetwidthwidth"><code class="highlighter-rouge">gauge.setWidth(width)</code></h4>

<p>Change the width to render at.</p>

<h4 id="gaugehide"><code class="highlighter-rouge">gauge.hide()</code></h4>

<p>Return the string necessary to hide the progress bar</p>

<h4 id="gaugehidecursor"><code class="highlighter-rouge">gauge.hideCursor()</code></h4>

<p>Return a string to hide the cursor.</p>

<h4 id="gaugeshowcursor"><code class="highlighter-rouge">gauge.showCursor()</code></h4>

<p>Return a string to show the cursor.</p>

<h4 id="gaugeshowstatus"><code class="highlighter-rouge">gauge.show(status)</code></h4>

<p>Using <code class="highlighter-rouge">status</code> for values, render the provided template with the theme and return
a string that is suitable for printing to update the gauge.</p>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
