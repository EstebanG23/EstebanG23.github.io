<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>estebang23.github.io</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="estebang23.github.io" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/node_modules/webpack-dev-middleware/" />
<meta property="og:url" content="http://localhost:4000/node_modules/webpack-dev-middleware/" />
<meta property="og:site_name" content="estebang23.github.io" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/node_modules/webpack-dev-middleware/","headline":"estebang23.github.io","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=08194154e5c3f87742365edb210c0599bab19902">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">estebang23.github.io</a></h1>
      

      <p>[![npm][npm]][npm-url]
[![node][node]][node-url]
[![deps][deps]][deps-url]
[![tests][tests]][tests-url]
[![coverage][cover]][cover-url]
[![chat][chat]][chat-url]</p>

<div align="center">
  <a href="https://github.com/webpack/webpack">
    <img width="200" height="200" src="https://webpack.js.org/assets/icon-square-big.svg" />
  </a>
  <h1>webpack Dev Middleware</h1>
</div>

<p>It’s a simple wrapper middleware for webpack. It serves the files emitted from webpack over a connect server. This should be used for <strong>development only</strong>.</p>

<p>It has a few advantages over bundling it as files:</p>

<ul>
  <li>No files are written to disk, it handle the files in memory</li>
  <li>If files changed in watch mode, the middleware no longer serves the old bundle, but delays requests until the compiling has finished. You don’t have to wait before refreshing the page after a file modification.</li>
  <li>I may add some specific optimization in future releases.</li>
</ul>

<h2 align="center">Install</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install webpack-dev-middleware --save-dev
</code></pre></div></div>

<h2 align="center">Usage</h2>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">webpackMiddleware</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"webpack-dev-middleware"</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">webpackMiddleware</span><span class="p">(...));</span>
</code></pre></div></div>

<p>Example usage:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">webpackMiddleware</span><span class="p">(</span><span class="nx">webpack</span><span class="p">({</span>
	<span class="c1">// webpack options</span>
	<span class="c1">// webpackMiddleware takes a Compiler object as first parameter</span>
	<span class="c1">// which is returned by webpack(...) without callback.</span>
	<span class="na">entry</span><span class="p">:</span> <span class="s2">"..."</span><span class="p">,</span>
	<span class="na">output</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">path</span><span class="p">:</span> <span class="s2">"/"</span>
		<span class="c1">// no real path is required, just pass "/"</span>
		<span class="c1">// but it will work with other paths too.</span>
	<span class="p">}</span>
<span class="p">}),</span> <span class="p">{</span>
	<span class="c1">// publicPath is required, whereas all other options are optional</span>

	<span class="na">noInfo</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
	<span class="c1">// display no info to console (only warnings and errors)</span>

	<span class="na">quiet</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
	<span class="c1">// display nothing to the console</span>

	<span class="na">lazy</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
	<span class="c1">// switch into lazy mode</span>
	<span class="c1">// that means no watching, but recompilation on every request</span>

	<span class="na">watchOptions</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">aggregateTimeout</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
		<span class="na">poll</span><span class="p">:</span> <span class="kc">true</span>
	<span class="p">},</span>
	<span class="c1">// watch options (only lazy: false)</span>

	<span class="na">publicPath</span><span class="p">:</span> <span class="s2">"/assets/"</span><span class="p">,</span>
	<span class="c1">// public path to bind the middleware to</span>
	<span class="c1">// use the same as in webpack</span>

	<span class="na">index</span><span class="p">:</span> <span class="s2">"index.html"</span><span class="p">,</span>
	<span class="c1">// The index path for web server, defaults to "index.html".</span>
	<span class="c1">// If falsy (but not undefined), the server will not respond to requests to the root URL.</span>

	<span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="s2">"X-Custom-Header"</span><span class="p">:</span> <span class="s2">"yes"</span> <span class="p">},</span>
	<span class="c1">// custom headers</span>

	<span class="na">mimeTypes</span><span class="p">:</span> <span class="p">{</span> <span class="s2">"text/html"</span><span class="p">:</span> <span class="p">[</span> <span class="s2">"phtml"</span> <span class="p">]</span> <span class="p">},</span>
	<span class="c1">// Add custom mime/extension mappings</span>
	<span class="c1">// https://github.com/broofa/node-mime#mimedefine</span>
	<span class="c1">// https://github.com/webpack/webpack-dev-middleware/pull/150</span>

	<span class="na">stats</span><span class="p">:</span> <span class="p">{</span>
		<span class="na">colors</span><span class="p">:</span> <span class="kc">true</span>
	<span class="p">},</span>
	<span class="c1">// options for formating the statistics</span>

	<span class="na">reporter</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
	<span class="c1">// Provide a custom reporter to change the way how logs are shown.</span>

	<span class="na">serverSideRender</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
	<span class="c1">// Turn off the server-side rendering mode. See Server-Side Rendering part for more info.</span>
<span class="p">}));</span>
</code></pre></div></div>

<h2 id="advanced-api">Advanced API</h2>

<p>This part shows how you might interact with the middleware during runtime:</p>

<ul>
  <li><code class="highlighter-rouge">close(callback)</code> - stop watching for file changes
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">var</span> <span class="nx">webpackDevMiddlewareInstance</span> <span class="o">=</span> <span class="nx">webpackMiddleware</span><span class="p">(</span><span class="cm">/* see example usage */</span><span class="p">);</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">webpackDevMiddlewareInstance</span><span class="p">);</span>
  <span class="c1">// After 10 seconds stop watching for file changes:</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">webpackDevMiddlewareInstance</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
  <span class="p">},</span> <span class="mi">10000</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li><code class="highlighter-rouge">invalidate()</code> - recompile the bundle - e.g. after you changed the configuration
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">var</span> <span class="nx">compiler</span> <span class="o">=</span> <span class="nx">webpack</span><span class="p">(</span><span class="cm">/* see example usage */</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">webpackDevMiddlewareInstance</span> <span class="o">=</span> <span class="nx">webpackMiddleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">);</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">webpackDevMiddlewareInstance</span><span class="p">);</span>
  <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="c1">// After a short delay the configuration is changed</span>
    <span class="c1">// in this example we will just add a banner plugin:</span>
    <span class="nx">compiler</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">new</span> <span class="nx">webpack</span><span class="p">.</span><span class="nx">BannerPlugin</span><span class="p">(</span><span class="s1">'A new banner'</span><span class="p">));</span>
    <span class="c1">// Recompile the bundle with the banner plugin:</span>
    <span class="nx">webpackDevMiddlewareInstance</span><span class="p">.</span><span class="nx">invalidate</span><span class="p">();</span>
  <span class="p">},</span> <span class="mi">1000</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
  <li><code class="highlighter-rouge">waitUntilValid(callback)</code> - executes the <code class="highlighter-rouge">callback</code> if the bundle is valid or after it is valid again:
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">var</span> <span class="nx">webpackDevMiddlewareInstance</span> <span class="o">=</span> <span class="nx">webpackMiddleware</span><span class="p">(</span><span class="cm">/* see example usage */</span><span class="p">);</span>
  <span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">webpackDevMiddlewareInstance</span><span class="p">);</span>
  <span class="nx">webpackDevMiddlewareInstance</span><span class="p">.</span><span class="nx">waitUntilValid</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">'Package is in a valid state'</span><span class="p">);</span>
  <span class="p">});</span>
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="server-side-rendering">Server-Side Rendering</h2>

<p><strong>Note: this feature is experimental and may be removed or changed completely in the future.</strong></p>

<p>In order to develop a server-side rendering application, we need access to the <a href="https://github.com/webpack/docs/wiki/node.js-api#stats"><code class="highlighter-rouge">stats</code></a>, which is generated with the latest build.</p>

<p>In the server-side rendering mode, <strong>webpack-dev-middleware</strong> sets the <code class="highlighter-rouge">stat</code> to <code class="highlighter-rouge">res.locals.webpackStats</code> before invoking the next middleware, allowing a developer to render the page body and manage the response to clients.</p>

<p>Notice that requests for bundle files would still be responded by <strong>webpack-dev-middleware</strong> and all requests will be pending until the building process is finished in the server-side rendering mode.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// This function makes server rendering of asset references consistent with different webpack chunk/entry configurations</span>
<span class="kd">function</span> <span class="nx">normalizeAssets</span><span class="p">(</span><span class="nx">assets</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">assets</span><span class="p">)</span> <span class="p">?</span> <span class="nx">assets</span> <span class="p">:</span> <span class="p">[</span><span class="nx">assets</span><span class="p">]</span>
<span class="p">}</span>

<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">webpackMiddleware</span><span class="p">(</span><span class="nx">compiler</span><span class="p">,</span> <span class="p">{</span> <span class="na">serverSideRender</span><span class="p">:</span> <span class="kc">true</span> <span class="p">})</span>

<span class="c1">// The following middleware would not be invoked until the latest build is finished.</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">((</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  
  <span class="kd">const</span> <span class="nx">assetsByChunkName</span> <span class="o">=</span> <span class="nx">res</span><span class="p">.</span><span class="nx">locals</span><span class="p">.</span><span class="nx">webpackStats</span><span class="p">.</span><span class="nx">toJson</span><span class="p">().</span><span class="nx">assetsByChunkName</span>
  
  <span class="c1">// then use `assetsByChunkName` for server-sider rendering</span>
  <span class="c1">// For example, if you have only one main chunk:</span>

	<span class="nx">res</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="s2">`
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;My App&lt;/title&gt;
		</span><span class="p">${</span>
			<span class="nx">normalizeAssets</span><span class="p">(</span><span class="nx">assetsByChunkName</span><span class="p">.</span><span class="nx">main</span><span class="p">)</span>
			<span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">path</span> <span class="o">=&gt;</span> <span class="nx">path</span><span class="p">.</span><span class="nx">endsWith</span><span class="p">(</span><span class="s1">'.css'</span><span class="p">))</span>
			<span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">path</span> <span class="o">=&gt;</span> <span class="s2">`&lt;link rel="stylesheet" href="</span><span class="p">${</span><span class="nx">path</span><span class="p">}</span><span class="s2">" /&gt;`</span><span class="p">)</span>
			<span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">'</span><span class="err">\</span><span class="s1">n'</span><span class="p">)</span>
		<span class="p">}</span><span class="s2">
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div id="root"&gt;&lt;/div&gt;
		</span><span class="p">${</span>
			<span class="nx">normalizeAssets</span><span class="p">(</span><span class="nx">assetsByChunkName</span><span class="p">.</span><span class="nx">main</span><span class="p">)</span>
			<span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">path</span> <span class="o">=&gt;</span> <span class="nx">path</span><span class="p">.</span><span class="nx">endsWith</span><span class="p">(</span><span class="s1">'.js'</span><span class="p">))</span>
			<span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">path</span> <span class="o">=&gt;</span> <span class="s2">`&lt;script src="</span><span class="p">${</span><span class="nx">path</span><span class="p">}</span><span class="s2">"&gt;&lt;/script&gt;`</span><span class="p">)</span>
			<span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">'</span><span class="err">\</span><span class="s1">n'</span><span class="p">)</span>
		<span class="p">}</span><span class="s2">
  &lt;/body&gt;
&lt;/html&gt;		
	`</span><span class="p">)</span>

<span class="p">})</span>
</code></pre></div></div>

<h2 align="center">Contributing</h2>

<p>Don’t hesitate to create a pull request. Every contribution is appreciated. In development you can start the tests by calling <code class="highlighter-rouge">npm test</code>.</p>

<h2 align="center">Maintainers</h2>

<table>
  <tbody>
    <tr>
      <td align="center">
        &lt;img width="150 height="150"
        src="https://avatars.githubusercontent.com/SpaceK33z?v=3"&gt;
        <br />
        <a href="https://github.com/SpaceK33z">Kees Kluskens</a>
      </td>
    <tr>
  <tbody>
&lt;/table&gt;


<h2 align="center">LICENSE</h2>

#### [MIT](/node_modules/webpack-dev-middleware/LICENSE)

[npm]: https://img.shields.io/npm/v/webpack-dev-middleware.svg
[npm-url]: https://npmjs.com/package/webpack-dev-middleware

[node]: https://img.shields.io/node/v/webpack-dev-middleware.svg
[node-url]: https://nodejs.org

[deps]: https://david-dm.org/webpack/webpack-dev-middleware.svg
[deps-url]: https://david-dm.org/webpack/webpack-dev-middleware

[tests]: http://img.shields.io/travis/webpack/webpack-dev-middleware.svg
[tests-url]: https://travis-ci.org/webpack/webpack-dev-middleware

[cover]: https://codecov.io/gh/webpack/webpack-dev-middleware/branch/master/graph/badge.svg
[cover-url]: https://codecov.io/gh/webpack/webpack-dev-middleware

[chat]: https://badges.gitter.im/webpack/webpack.svg
[chat-url]: https://gitter.im/webpack/webpack
</tbody></tr></tr></tbody></table>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
