<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Overview | estebang23.github.io</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Overview" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/node_modules/source-map-resolve/" />
<meta property="og:url" content="http://localhost:4000/node_modules/source-map-resolve/" />
<meta property="og:site_name" content="estebang23.github.io" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/node_modules/source-map-resolve/","headline":"Overview","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=08194154e5c3f87742365edb210c0599bab19902">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">estebang23.github.io</a></h1>
      

      <h1 id="overview-">Overview <a href="https://travis-ci.org/lydell/source-map-resolve"><img src="https://travis-ci.org/lydell/source-map-resolve.svg?branch=master" alt="Build Status" /></a></h1>

<p><a href="https://ci.testling.com/lydell/source-map-resolve"><img src="https://ci.testling.com/lydell/source-map-resolve.png" alt="browser support" /></a></p>

<p>Resolve the source map and/or sources for a generated file.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">sourceMapResolve</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"source-map-resolve"</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">sourceMap</span>        <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"source-map"</span><span class="p">)</span>

<span class="kd">var</span> <span class="nx">code</span> <span class="o">=</span> <span class="p">[</span>
  <span class="s2">"!function(){...}();"</span><span class="p">,</span>
  <span class="s2">"/*# sourceMappingURL=foo.js.map */"</span>
<span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s2">"</span><span class="err">\</span><span class="s2">n"</span><span class="p">)</span>

<span class="nx">sourceMapResolve</span><span class="p">.</span><span class="nx">resolveSourceMap</span><span class="p">(</span><span class="nx">code</span><span class="p">,</span> <span class="s2">"/js/foo.js"</span><span class="p">,</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">notifyFailure</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">result</span>
  <span class="c1">// {</span>
  <span class="c1">//   map: {file: "foo.js", mappings: "...", sources: ["/coffee/foo.coffee"], names: []},</span>
  <span class="c1">//   url: "/js/foo.js.map",</span>
  <span class="c1">//   sourcesRelativeTo: "/js/foo.js.map",</span>
  <span class="c1">//   sourceMappingURL: "foo.js.map"</span>
  <span class="c1">// }</span>

  <span class="nx">sourceMapResolve</span><span class="p">.</span><span class="nx">resolveSources</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">map</span><span class="p">,</span> <span class="nx">result</span><span class="p">.</span><span class="nx">sourcesRelativeTo</span><span class="p">,</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">notifyFailure</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">result</span>
    <span class="c1">// {</span>
    <span class="c1">//   sourcesResolved: ["/coffee/foo.coffee"],</span>
    <span class="c1">//   sourcesContent: ["&lt;contents of /coffee/foo.coffee&gt;"]</span>
    <span class="c1">// }</span>
  <span class="p">})</span>
<span class="p">})</span>

<span class="nx">sourceMapResolve</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">code</span><span class="p">,</span> <span class="s2">"/js/foo.js"</span><span class="p">,</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">notifyFailure</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">result</span>
  <span class="c1">// {</span>
  <span class="c1">//   map: {file: "foo.js", mappings: "...", sources: ["/coffee/foo.coffee"], names: []},</span>
  <span class="c1">//   url: "/js/foo.js.map",</span>
  <span class="c1">//   sourcesRelativeTo: "/js/foo.js.map",</span>
  <span class="c1">//   sourceMappingURL: "foo.js.map",</span>
  <span class="c1">//   sourcesResolved: ["/coffee/foo.coffee"],</span>
  <span class="c1">//   sourcesContent: ["&lt;contents of /coffee/foo.coffee&gt;"]</span>
  <span class="c1">// }</span>
  <span class="nx">result</span><span class="p">.</span><span class="nx">map</span><span class="p">.</span><span class="nx">sourcesContent</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">sourcesContent</span>
  <span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">sourceMap</span><span class="p">.</span><span class="nx">sourceMapConsumer</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">map</span><span class="p">)</span>
  <span class="nx">map</span><span class="p">.</span><span class="nx">sourceContentFor</span><span class="p">(</span><span class="s2">"/coffee/foo.coffee"</span><span class="p">)</span>
  <span class="c1">// "&lt;contents of /coffee/foo.coffee&gt;"</span>
<span class="p">})</span>
</code></pre></div></div>

<h1 id="installation">Installation</h1>

<ul>
  <li><code class="highlighter-rouge">npm install source-map-resolve</code></li>
  <li><code class="highlighter-rouge">bower install source-map-resolve</code></li>
  <li><code class="highlighter-rouge">component install lydell/source-map-resolve</code></li>
</ul>

<p>Works with CommonJS, AMD and browser globals, through UMD.</p>

<p>Note: This module requires <code class="highlighter-rouge">setImmediate</code> and <code class="highlighter-rouge">atob</code>.
Use polyfills if needed, such as:</p>

<ul>
  <li><a href="https://github.com/NobleJS/setImmediate">https://github.com/NobleJS/setImmediate</a></li>
  <li><a href="https://github.com/davidchambers/Base64.js">https://github.com/davidchambers/Base64.js</a></li>
</ul>

<h1 id="usage">Usage</h1>

<h3 id="sourcemapresolveresolvesourcemapcode-codeurl-read-callback"><code class="highlighter-rouge">sourceMapResolve.resolveSourceMap(code, codeUrl, read, callback)</code></h3>

<ul>
  <li><code class="highlighter-rouge">code</code> is a string of code that may or may not contain a sourceMappingURL
comment. Such a comment is used to resolve the source map.</li>
  <li><code class="highlighter-rouge">codeUrl</code> is the url to the file containing <code class="highlighter-rouge">code</code>. If the sourceMappingURL
is relative, it is resolved against <code class="highlighter-rouge">codeUrl</code>.</li>
  <li><code class="highlighter-rouge">read(url, callback)</code> is a function that reads <code class="highlighter-rouge">url</code> and responds using
<code class="highlighter-rouge">callback(error, content)</code>. In Node.js you might want to use <code class="highlighter-rouge">fs.readFile</code>,
while in the browser you might want to use an asynchronus <code class="highlighter-rouge">XMLHttpRequest</code>.</li>
  <li><code class="highlighter-rouge">callback(error, result)</code> is a function that is invoked with either an error
or <code class="highlighter-rouge">null</code> and the result.</li>
</ul>

<p>The result is an object with the following properties:</p>

<ul>
  <li><code class="highlighter-rouge">map</code>: The source map for <code class="highlighter-rouge">code</code>, as an object (not a string).</li>
  <li><code class="highlighter-rouge">url</code>: The url to the source map. If the source map came from a data uri,
this property is <code class="highlighter-rouge">null</code>, since then there is no url to it.</li>
  <li><code class="highlighter-rouge">sourcesRelativeTo</code>: The url that the sources of the source map are relative
to. Since the sources are relative to the source map, and the url to the
source map is provided as the <code class="highlighter-rouge">url</code> property, this property might seem
superfluos. However, remember that the <code class="highlighter-rouge">url</code> property can be <code class="highlighter-rouge">null</code> if the
source map came from a data uri. If so, the sources are relative to the file
containing the data uri—<code class="highlighter-rouge">codeUrl</code>. This property will be identical to the
<code class="highlighter-rouge">url</code> property or <code class="highlighter-rouge">codeUrl</code>, whichever is appropriate. This way you can
conveniently resolve the sources without having to think about where the
source map came from.</li>
  <li><code class="highlighter-rouge">sourceMappingURL</code>: The url of the sourceMappingURL comment in <code class="highlighter-rouge">code</code>.</li>
</ul>

<p>If <code class="highlighter-rouge">code</code> contains no sourceMappingURL, the result is <code class="highlighter-rouge">null</code>.</p>

<h3 id="sourcemapresolveresolvesourcesmap-mapurl-read-options-callback"><code class="highlighter-rouge">sourceMapResolve.resolveSources(map, mapUrl, read, [options], callback)</code></h3>

<ul>
  <li><code class="highlighter-rouge">map</code> is a source map, as an object (not a string).</li>
  <li><code class="highlighter-rouge">mapUrl</code> is the url to the file containing <code class="highlighter-rouge">map</code>. Relative sources in the
source map, if any, are resolved against <code class="highlighter-rouge">mapUrl</code>.</li>
  <li><code class="highlighter-rouge">read(url, callback)</code> is a function that reads <code class="highlighter-rouge">url</code> and responds using
<code class="highlighter-rouge">callback(error, content)</code>. In Node.js you might want to use <code class="highlighter-rouge">fs.readFile</code>,
while in the browser you might want to use an asynchronus <code class="highlighter-rouge">XMLHttpRequest</code>.</li>
  <li><code class="highlighter-rouge">options</code> is an optional object with any of the following properties:
    <ul>
      <li><code class="highlighter-rouge">sourceRoot</code>: Override the <code class="highlighter-rouge">sourceRoot</code> property of the source map, which
might only be relevant when resolving sources in the browser. This lets you
bypass it when using the module outside of a browser, if needed. Pass a
string to replace the <code class="highlighter-rouge">sourceRoot</code> property with, or <code class="highlighter-rouge">false</code> to ignore it.
Defaults to <code class="highlighter-rouge">undefined</code>.</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">callback(error, result)</code> is a function that is invoked with either an error
or <code class="highlighter-rouge">null</code> and the result.</li>
</ul>

<p>The result is an object with the following properties:</p>

<ul>
  <li><code class="highlighter-rouge">sourcesResolved</code>: The same as <code class="highlighter-rouge">map.sources</code>, except all the sources are
fully resolved.</li>
  <li><code class="highlighter-rouge">sourcesContent</code>: An array with the contents of all sources in <code class="highlighter-rouge">map.sources</code>,
in the same order as <code class="highlighter-rouge">map.sources</code>. If getting the contents of a source fails,
an error object is put into the array instead.</li>
</ul>

<h3 id="sourcemapresolveresolvecode-codeurl-read-options-callback"><code class="highlighter-rouge">sourceMapResolve.resolve(code, codeUrl, read, [options], callback)</code></h3>

<p>The arguments are identical to <code class="highlighter-rouge">sourceMapResolve.resolveSourceMap</code>, except that
you may also provide the same <code class="highlighter-rouge">options</code> as in <code class="highlighter-rouge">sourceMapResolve.resolveSources</code>.</p>

<p>This is a convenience method that first resolves the source map and then its
sources. You could also do this by first calling
<code class="highlighter-rouge">sourceMapResolve.resolveSourceMap</code> and then <code class="highlighter-rouge">sourceMapResolve.resolveSources</code>.</p>

<p>The result is identical to <code class="highlighter-rouge">sourceMapResolve.resolveSourceMap</code>, with the
properties from <code class="highlighter-rouge">sourceMapResolve.resolveSources</code> merged into it.</p>

<p>There is one extra feature available, though. If <code class="highlighter-rouge">code</code> is <code class="highlighter-rouge">null</code>, <code class="highlighter-rouge">codeUrl</code> is
treated as a url to the source map instead of to <code class="highlighter-rouge">code</code>, and will be read. This
is handy if you <em>sometimes</em> get the source map url from the <code class="highlighter-rouge">SourceMap: &lt;url&gt;</code>
header (see the <a href="#notes">Notes</a> section). In this case, the <code class="highlighter-rouge">sourceMappingURL</code> property
of the result is <code class="highlighter-rouge">null</code>.</p>

<h3 id="sourcemapresolvesync"><code class="highlighter-rouge">sourceMapResolve.*Sync()</code></h3>

<p>There are also sync versions of the three previous functions. They are identical
to the async versions, except:</p>

<ul>
  <li>They expect a sync reading function. In Node.js you might want to use
<code class="highlighter-rouge">fs.readFileSync</code>, while in the browser you might want to use a synchronus
<code class="highlighter-rouge">XMLHttpRequest</code>.</li>
  <li>They throw errors and return the result instead of using a callback.</li>
</ul>

<p><code class="highlighter-rouge">sourceMapResolve.resolveSourcesSync</code> also accepts <code class="highlighter-rouge">null</code> as the <code class="highlighter-rouge">read</code>
parameter. The result is the same as when passing a function as the <code class="highlighter-rouge">read
parameter</code>, except that the <code class="highlighter-rouge">sourcesContent</code> property of the result will be an
empty array. In other words, the sources aren’t read. You only get the
<code class="highlighter-rouge">sourcesResolved</code> property. (This only supported in the synchronus version, since
there is no point doing it asynchronusly.)</p>

<h3 id="sourcemapresolveparsemaptojsonstring-data"><code class="highlighter-rouge">sourceMapResolve.parseMapToJSON(string, [data])</code></h3>

<p>The spec says that if a source map (as a string) starts with <code class="highlighter-rouge">)]}'</code>, it should
be stripped off. This is to prevent XSSI attacks. This function does that and
returns the result of <code class="highlighter-rouge">JSON.parse</code>ing what’s left.</p>

<p>If this function throws <code class="highlighter-rouge">error</code>, <code class="highlighter-rouge">error.sourceMapData === data</code>.</p>

<h3 id="errors">Errors</h3>

<p>All errors passed to callbacks or thrown by this module have a <code class="highlighter-rouge">sourceMapData</code>
property that contain as much as possible of the intended result of the function
up until the error occurred.</p>

<p>Note that while the <code class="highlighter-rouge">map</code> property of result objects always is an object,
<code class="highlighter-rouge">error.sourceMapData.map</code> will be a string if parsing that string fails.</p>

<h1 id="note">Note</h1>

<p>This module resolves the source map for a given generated file by looking for a
sourceMappingURL comment. The spec defines yet a way to provide the URL to the
source map: By sending the <code class="highlighter-rouge">SourceMap: &lt;url&gt;</code> header along with the generated
file. Since this module doesn’t retrive the generated code for you (instead
<em>you</em> give the generated code to the module), it’s up to you to look for such a
header when you retrieve the file (should the need arise).</p>

<h1 id="development">Development</h1>

<h2 id="tests">Tests</h2>

<p>First off, run <code class="highlighter-rouge">npm install</code> to install testing modules and browser polyfills.</p>

<p><code class="highlighter-rouge">npm test</code> lints the code and runs the test suite in Node.js.</p>

<p>To run the tests in a browser, run <code class="highlighter-rouge">testling</code> (<code class="highlighter-rouge">npm install -g testling</code>) or
<code class="highlighter-rouge">testling -u</code>.</p>

<h2 id="x-packagejson5">x-package.json5</h2>

<p>package.json, component.json and bower.json are all generated from
x-package.json5 by using <a href="https://github.com/kof/node-xpkg"><code class="highlighter-rouge">xpkg</code></a>. Only edit x-package.json5, and remember to
run <code class="highlighter-rouge">xpkg</code> before commiting!</p>

<h2 id="generating-the-browser-version">Generating the browser version</h2>

<p>source-map-resolve.js is generated from source-map-resolve-node.js and
source-map-resolve-template.js. Only edit the two latter files, <em>not</em>
source-map-resolve.js! To generate it, run <code class="highlighter-rouge">npm run build</code>.</p>

<h1 id="license">License</h1>

<p><a href="/node_modules/source-map-resolve/LICENSE">The X11 (“MIT”) License</a>.</p>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
