<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>extract-loader | estebang23.github.io</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="extract-loader" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/node_modules/extract-loader/" />
<meta property="og:url" content="http://localhost:4000/node_modules/extract-loader/" />
<meta property="og:site_name" content="estebang23.github.io" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/node_modules/extract-loader/","headline":"extract-loader","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=08194154e5c3f87742365edb210c0599bab19902">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">estebang23.github.io</a></h1>
      

      <h1 id="extract-loader">extract-loader</h1>
<p><strong>webpack loader to extract HTML and CSS from the bundle.</strong></p>

<p><a href="https://www.npmjs.com/package/extract-loader"><img src="https://img.shields.io/npm/v/extract-loader.svg" alt="" /></a>
<a href="https://www.npmjs.com/package/extract-loader"><img src="https://img.shields.io/npm/dm/extract-loader.svg" alt="" /></a>
<a href="https://david-dm.org/peerigon/extract-loader"><img src="https://david-dm.org/peerigon/extract-loader.svg" alt="Dependency Status" /></a>
<a href="https://travis-ci.org/peerigon/extract-loader"><img src="https://travis-ci.org/peerigon/extract-loader.svg?branch=master" alt="Build Status" /></a>
<a href="https://coveralls.io/r/peerigon/extract-loader?branch=master"><img src="https://img.shields.io/coveralls/peerigon/extract-loader.svg" alt="Coverage Status" /></a></p>

<p>The extract-loader evaluates the given source code on the fly and returns the result as string. Its main use-case is to resolve urls within HTML and CSS coming from their respective loaders. Use the <a href="https://github.com/webpack/file-loader">file-loader</a> to emit the extract-loader’s result as separate file.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">stylesheetUrl</span> <span class="k">from</span> <span class="s2">"file-loader!extract-loader!css-loader!main.css"</span><span class="p">;</span>
<span class="c1">// stylesheetUrl will now be the hashed url to the final stylesheet</span>
</code></pre></div></div>

<p>The extract-loader works similar to the <a href="https://github.com/webpack/extract-text-webpack-plugin">extract-text-webpack-plugin</a> and is meant as a lean alternative to it. When evaluating the source code, it provides a fake context which was especially designed to cope with the code generated by the <a href="https://github.com/webpack/html-loader">html-</a> or the <a href="https://github.com/webpack/css-loader">css-loader</a>. Thus it might not work in other situations.</p>

<p><br /></p>

<h2 id="installation">Installation</h2>

<p><code class="highlighter-rouge">npm install extract-loader</code></p>

<p><br /></p>

<h2 id="examples">Examples</h2>

<h3 id="extracting-a-maincss"><a href="https://github.com/peerigon/extract-loader/tree/master/examples/main-css">Extracting a main.css</a></h3>

<p>Bundling CSS with webpack has some nice advantages like referencing images and fonts with hashed urls or <a href="http://webpack.github.io/docs/hot-module-replacement-with-webpack.html">hot module replacement</a> in development. In production, on the other hand, it’s not a good idea to apply your stylesheets depending on JS execution. Rendering may be delayed or even a <a href="https://en.wikipedia.org/wiki/Flash_of_unstyled_content">FOUC</a> might be visible. Thus it’s still better to have them as separate files in your final production build.</p>

<p>With the extract-loader, you are able to reference your <code class="highlighter-rouge">main.css</code> as regular <code class="highlighter-rouge">entry</code>. The following <code class="highlighter-rouge">webpack.config.js</code> shows how to load your styles with the <a href="https://github.com/webpack/style-loader">style-loader</a> in development and as separate file in production.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">live</span> <span class="o">=</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span> <span class="o">===</span> <span class="s2">"production"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">mainCss</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"css-loader"</span><span class="p">,</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s2">"app"</span><span class="p">,</span> <span class="s2">"main.css"</span><span class="p">)];</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">live</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">mainCss</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="s2">"file-loader?name=[name].[ext]"</span><span class="p">,</span> <span class="s2">"extract-loader"</span><span class="p">);</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nx">mainCss</span><span class="p">.</span><span class="nx">unshift</span><span class="p">(</span><span class="s2">"style-loader"</span><span class="p">);</span>
<span class="p">}</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">entry</span><span class="p">:</span> <span class="p">[</span>
        <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s2">"app"</span><span class="p">,</span> <span class="s2">"main.js"</span><span class="p">),</span>
        <span class="nx">mainCss</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s2">"!"</span><span class="p">)</span>
    <span class="p">],</span>
    <span class="p">...</span>
<span class="p">};</span>
</code></pre></div></div>

<h3 id="extracting-the-indexhtml"><a href="https://github.com/peerigon/extract-loader/tree/master/examples/index-html">Extracting the index.html</a></h3>

<p>You can even add your <code class="highlighter-rouge">index.html</code> as <code class="highlighter-rouge">entry</code> and just reference your stylesheets from there. You just need to tell the html-loader to also pick up <code class="highlighter-rouge">link:href</code>:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">indexHtml</span> <span class="o">=</span> <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s2">"app"</span><span class="p">,</span> <span class="s2">"index.html"</span><span class="p">);</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">entry</span><span class="p">:</span> <span class="p">[</span>
        <span class="nx">path</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="s2">"app"</span><span class="p">,</span> <span class="s2">"main.js"</span><span class="p">),</span>
        <span class="nx">indexHtml</span>
    <span class="p">],</span>
    <span class="p">...</span>
    <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">rules</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="na">test</span><span class="p">:</span> <span class="nx">indexHtml</span><span class="p">,</span>
                <span class="na">use</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="na">loader</span><span class="p">:</span> <span class="s2">"file-loader"</span><span class="p">,</span>
                        <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
                            <span class="na">name</span><span class="p">:</span> <span class="s2">"[name]-dist.[ext]"</span><span class="p">,</span>
                        <span class="p">},</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="na">loader</span><span class="p">:</span> <span class="s2">"extract-loader"</span><span class="p">,</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="na">loader</span><span class="p">:</span> <span class="s2">"html-loader"</span><span class="p">,</span>
                        <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
                            <span class="na">attrs</span><span class="p">:</span> <span class="p">[</span><span class="s2">"img:src"</span><span class="p">,</span> <span class="s2">"link:href"</span><span class="p">],</span>
                            <span class="na">interpolate</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                        <span class="p">},</span>
                    <span class="p">},</span>
                <span class="p">],</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">css$/</span><span class="p">,</span>
                <span class="na">loaders</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="na">loader</span><span class="p">:</span> <span class="s2">"file-loader"</span><span class="p">,</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="na">loader</span><span class="p">:</span> <span class="s2">"extract-loader"</span><span class="p">,</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="na">loader</span><span class="p">:</span> <span class="s2">"css-loader"</span><span class="p">,</span>
                    <span class="p">},</span>
                <span class="p">],</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">jpg$/</span><span class="p">,</span>
                <span class="na">loaders</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="na">loader</span><span class="p">:</span> <span class="s2">"file-loader"</span>
                    <span class="p">},</span>
                <span class="p">],</span>
            <span class="p">},</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<p>turns</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"main.css"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"hi.jpg"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>into</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"7c57758b88216530ef48069c2a4c685a.css"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">rel=</span><span class="s">"stylesheet"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"6ac05174ae9b62257ff3aa8be43cf828.jpg"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p><br /></p>

<h2 id="options">Options</h2>

<p>There is currently exactly one option: <code class="highlighter-rouge">publicPath</code>.
If you are using a relative <code class="highlighter-rouge">publicPath</code> in webpack’s <a href="http://webpack.github.io/docs/configuration.html#output-publicpath">output options</a> and extracting to a file with the <code class="highlighter-rouge">file-loader</code>, you might need this to account for the location of your extracted file.</p>

<p>Example:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="s2">"./dist"</span><span class="p">),</span>
        <span class="na">publicPath</span><span class="p">:</span> <span class="s2">"dist/"</span>
    <span class="p">},</span>
    <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">rules</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">css$/</span><span class="p">,</span>
                <span class="na">use</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="na">loader</span><span class="p">:</span> <span class="s2">"file-loader"</span><span class="p">,</span>
                        <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
                            <span class="na">name</span><span class="p">:</span> <span class="s2">"assets/[name].[ext]"</span><span class="p">,</span>
                        <span class="p">},</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="na">loader</span><span class="p">:</span> <span class="s2">"extract-loader"</span><span class="p">,</span>
                        <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
                            <span class="na">publicPath</span><span class="p">:</span> <span class="s2">"../"</span><span class="p">,</span>
                        <span class="p">}</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="na">loader</span><span class="p">:</span> <span class="s2">"css-loader"</span><span class="p">,</span>
                    <span class="p">},</span>
                <span class="p">],</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<p>You need another option? Then you should think about:</p>

<p><br /></p>

<h2 id="contributing">Contributing</h2>

<p>From opening a bug report to creating a pull request: <strong>every contribution is appreciated and welcome</strong>. If you’re planing to implement a new feature or change the api please create an issue first. This way we can ensure that your precious work is not in vain.</p>

<p>All pull requests should have 100% test coverage (with notable exceptions) and need to pass all tests.</p>

<ul>
  <li>Call <code class="highlighter-rouge">npm test</code> to run the unit tests</li>
  <li>Call <code class="highlighter-rouge">npm run coverage</code> to check the test coverage (using <a href="https://github.com/gotwarlost/istanbul">istanbul</a>)</li>
</ul>

<p><br /></p>

<h2 id="license">License</h2>

<p>Unlicense</p>

<h2 id="sponsors">Sponsors</h2>

<p><a href="https://peerigon.com"><img src="https://assets.peerigon.com/peerigon/logo/peerigon-logo-flat-spinat.png" width="150" /></a></p>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
