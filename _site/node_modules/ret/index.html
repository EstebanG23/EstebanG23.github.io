<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Regular Expression Tokenizer | estebang23.github.io</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="Regular Expression Tokenizer" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/node_modules/ret/" />
<meta property="og:url" content="http://localhost:4000/node_modules/ret/" />
<meta property="og:site_name" content="estebang23.github.io" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/node_modules/ret/","headline":"Regular Expression Tokenizer","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=08194154e5c3f87742365edb210c0599bab19902">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">estebang23.github.io</a></h1>
      

      <h1 id="regular-expression-tokenizer">Regular Expression Tokenizer</h1>

<p>Tokenizes strings that represent a regular expressions.</p>

<p><a href="http://travis-ci.org/fent/ret.js"><img src="https://secure.travis-ci.org/fent/ret.js.svg" alt="Build Status" /></a>
<a href="https://david-dm.org/fent/ret.js"><img src="https://david-dm.org/fent/ret.js.svg" alt="Dependency Status" /></a>
<a href="https://codecov.io/gh/fent/ret.js"><img src="https://codecov.io/gh/fent/ret.js/branch/master/graph/badge.svg" alt="codecov" /></a></p>

<h1 id="usage">Usage</h1>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">ret</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'ret'</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">tokens</span> <span class="o">=</span> <span class="nx">ret</span><span class="p">(</span><span class="sr">/foo|bar/</span><span class="p">.</span><span class="nx">source</span><span class="p">);</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">tokens</code> will contain the following object</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">ROOT</span>
  <span class="s2">"options"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">[</span> <span class="p">{</span> <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">CHAR</span><span class="p">,</span> <span class="s2">"value"</span><span class="p">,</span> <span class="mi">102</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">CHAR</span><span class="p">,</span> <span class="s2">"value"</span><span class="p">,</span> <span class="mi">111</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">CHAR</span><span class="p">,</span> <span class="s2">"value"</span><span class="p">,</span> <span class="mi">111</span> <span class="p">}</span> <span class="p">],</span>
    <span class="p">[</span> <span class="p">{</span> <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">CHAR</span><span class="p">,</span> <span class="s2">"value"</span><span class="p">,</span>  <span class="mi">98</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">CHAR</span><span class="p">,</span> <span class="s2">"value"</span><span class="p">,</span>  <span class="mi">97</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">CHAR</span><span class="p">,</span> <span class="s2">"value"</span><span class="p">,</span> <span class="mi">114</span> <span class="p">}</span> <span class="p">]</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<h1 id="token-types">Token Types</h1>

<p><code class="highlighter-rouge">ret.types</code> is a collection of the various token types exported by ret.</p>

<h3 id="root">ROOT</h3>

<p>Only used in the root of the regexp. This is needed due to the posibility of the root containing a pipe <code class="highlighter-rouge">|</code> character. In that case, the token will have an <code class="highlighter-rouge">options</code> key that will be an array of arrays of tokens. If not, it will contain a <code class="highlighter-rouge">stack</code> key that is an array of tokens.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">ROOT</span><span class="p">,</span>
  <span class="s2">"stack"</span><span class="p">:</span> <span class="p">[</span><span class="nx">token1</span><span class="p">,</span> <span class="nx">token2</span><span class="p">...],</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">ROOT</span><span class="p">,</span>
  <span class="s2">"options"</span> <span class="p">[</span>
    <span class="p">[</span><span class="nx">token1</span><span class="p">,</span> <span class="nx">token2</span><span class="p">...],</span>
    <span class="p">[</span><span class="nx">othertoken1</span><span class="p">,</span> <span class="nx">othertoken2</span><span class="p">...]</span>
    <span class="p">...</span>
  <span class="p">],</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="group">GROUP</h3>

<p>Groups contain tokens that are inside of a parenthesis. If the group begins with <code class="highlighter-rouge">?</code> followed by another character, it’s a special type of group. A ‘:’ tells the group not to be remembered when <code class="highlighter-rouge">exec</code> is used. ‘=’ means the previous token matches only if followed by this group, and ‘!’ means the previous token matches only if NOT followed.</p>

<p>Like root, it can contain an <code class="highlighter-rouge">options</code> key instead of <code class="highlighter-rouge">stack</code> if there is a pipe.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">GROUP</span><span class="p">,</span>
  <span class="s2">"remember"</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"followedBy"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"notFollowedBy"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"stack"</span><span class="p">:</span> <span class="p">[</span><span class="nx">token1</span><span class="p">,</span> <span class="nx">token2</span><span class="p">...],</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">GROUP</span><span class="p">,</span>
  <span class="s2">"remember"</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"followedBy"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"notFollowedBy"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="s2">"options"</span> <span class="p">[</span>
    <span class="p">[</span><span class="nx">token1</span><span class="p">,</span> <span class="nx">token2</span><span class="p">...],</span>
    <span class="p">[</span><span class="nx">othertoken1</span><span class="p">,</span> <span class="nx">othertoken2</span><span class="p">...]</span>
    <span class="p">...</span>
  <span class="p">],</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="position">POSITION</h3>

<p><code class="highlighter-rouge">\b</code>, <code class="highlighter-rouge">\B</code>, <code class="highlighter-rouge">^</code>, and <code class="highlighter-rouge">$</code> specify positions in the regexp.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">POSITION</span><span class="p">,</span>
  <span class="s2">"value"</span><span class="p">:</span> <span class="s2">"^"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="set">SET</h3>

<p>Contains a key <code class="highlighter-rouge">set</code> specifying what tokens are allowed and a key <code class="highlighter-rouge">not</code> specifying if the set should be negated. A set can contain other sets, ranges, and characters.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">SET</span><span class="p">,</span>
  <span class="s2">"set"</span><span class="p">:</span> <span class="p">[</span><span class="nx">token1</span><span class="p">,</span> <span class="nx">token2</span><span class="p">...],</span>
  <span class="s2">"not"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="range">RANGE</h3>

<p>Used in set tokens to specify a character range. <code class="highlighter-rouge">from</code> and <code class="highlighter-rouge">to</code> are character codes.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">RANGE</span><span class="p">,</span>
  <span class="s2">"from"</span><span class="p">:</span> <span class="mi">97</span><span class="p">,</span>
  <span class="s2">"to"</span><span class="p">:</span> <span class="mi">122</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="repetition">REPETITION</h3>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">REPETITION</span><span class="p">,</span>
  <span class="s2">"min"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">"max"</span><span class="p">:</span> <span class="kc">Infinity</span><span class="p">,</span>
  <span class="s2">"value"</span><span class="p">:</span> <span class="nx">token</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="reference">REFERENCE</h3>

<p>References a group token. <code class="highlighter-rouge">value</code> is 1-9.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">REFERENCE</span><span class="p">,</span>
  <span class="s2">"value"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="char">CHAR</h3>

<p>Represents a single character token. <code class="highlighter-rouge">value</code> is the character code. This might seem a bit cluttering instead of concatenating characters together. But since repetition tokens only repeat the last token and not the last clause like the pipe, it’s simpler to do it this way.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s2">"type"</span><span class="p">:</span> <span class="nx">ret</span><span class="p">.</span><span class="nx">types</span><span class="p">.</span><span class="nx">CHAR</span><span class="p">,</span>
  <span class="s2">"value"</span><span class="p">:</span> <span class="mi">123</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="errors">Errors</h2>

<p>ret.js will throw errors if given a string with an invalid regular expression. All possible errors are</p>

<ul>
  <li>Invalid group. When a group with an immediate <code class="highlighter-rouge">?</code> character is followed by an invalid character. It can only be followed by <code class="highlighter-rouge">!</code>, <code class="highlighter-rouge">=</code>, or <code class="highlighter-rouge">:</code>. Example: <code class="highlighter-rouge">/(?_abc)/</code></li>
  <li>Nothing to repeat. Thrown when a repetitional token is used as the first token in the current clause, as in right in the beginning of the regexp or group, or right after a pipe. Example: <code class="highlighter-rouge">/foo|?bar/</code>, <code class="highlighter-rouge">/{1,3}foo|bar/</code>, <code class="highlighter-rouge">/foo(+bar)/</code></li>
  <li>Unmatched ). A group was not opened, but was closed. Example: <code class="highlighter-rouge">/hello)2u/</code></li>
  <li>Unterminated group. A group was not closed. Example: <code class="highlighter-rouge">/(1(23)4/</code></li>
  <li>Unterminated character class. A custom character set was not closed. Example: <code class="highlighter-rouge">/[abc/</code></li>
</ul>

<h1 id="install">Install</h1>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install ret
</code></pre></div></div>

<h1 id="tests">Tests</h1>

<p>Tests are written with <a href="http://vowsjs.org/">vows</a></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">test</span>
</code></pre></div></div>

<h1 id="license">License</h1>

<p>MIT</p>


      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
