<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>node-gyp | estebang23.github.io</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="node-gyp" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/node_modules/node-gyp/" />
<meta property="og:url" content="http://localhost:4000/node_modules/node-gyp/" />
<meta property="og:site_name" content="estebang23.github.io" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/node_modules/node-gyp/","headline":"node-gyp","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=08194154e5c3f87742365edb210c0599bab19902">
  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <h1><a href="http://localhost:4000/">estebang23.github.io</a></h1>
      

      <h1 id="node-gyp">node-gyp</h1>
<h3 id="nodejs-native-addon-build-tool">Node.js native addon build tool</h3>

<p><code class="highlighter-rouge">node-gyp</code> is a cross-platform command-line tool written in Node.js for compiling
native addon modules for Node.js.  It bundles the <a href="https://gyp.gsrc.io">gyp</a>
project used by the Chromium team and takes away the pain of dealing with the
various differences in build platforms. It is the replacement to the <code class="highlighter-rouge">node-waf</code>
program which is removed for node <code class="highlighter-rouge">v0.8</code>. If you have a native addon for node that
still has a <code class="highlighter-rouge">wscript</code> file, then you should definitely add a <code class="highlighter-rouge">binding.gyp</code> file
to support the latest versions of node.</p>

<p>Multiple target versions of node are supported (i.e. <code class="highlighter-rouge">0.8</code>, …, <code class="highlighter-rouge">4</code>, <code class="highlighter-rouge">5</code>, <code class="highlighter-rouge">6</code>,
etc.), regardless of what version of node is actually installed on your system
(<code class="highlighter-rouge">node-gyp</code> downloads the necessary development files or headers for the target version).</p>

<h4 id="features">Features:</h4>

<ul>
  <li>Easy to use, consistent interface</li>
  <li>Same commands to build your module on every platform</li>
  <li>Supports multiple target versions of Node</li>
</ul>

<h2 id="installation">Installation</h2>

<p>You can install with <code class="highlighter-rouge">npm</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>npm install <span class="nt">-g</span> node-gyp
</code></pre></div></div>

<p>You will also need to install:</p>

<ul>
  <li>On Unix:
    <ul>
      <li><code class="highlighter-rouge">python</code> (<code class="highlighter-rouge">v2.7</code> recommended, <code class="highlighter-rouge">v3.x.x</code> is <strong><em>not</em></strong> supported)</li>
      <li><code class="highlighter-rouge">make</code></li>
      <li>A proper C/C++ compiler toolchain, like <a href="https://gcc.gnu.org">GCC</a></li>
    </ul>
  </li>
  <li>On Mac OS X:
    <ul>
      <li><code class="highlighter-rouge">python</code> (<code class="highlighter-rouge">v2.7</code> recommended, <code class="highlighter-rouge">v3.x.x</code> is <strong><em>not</em></strong> supported) (already installed on Mac OS X)</li>
      <li><a href="https://developer.apple.com/xcode/download/">Xcode</a>
        <ul>
          <li>You also need to install the <code class="highlighter-rouge">Command Line Tools</code> via Xcode. You can find this under the menu <code class="highlighter-rouge">Xcode -&gt; Preferences -&gt; Downloads</code></li>
          <li>This step will install <code class="highlighter-rouge">gcc</code> and the related toolchain containing <code class="highlighter-rouge">make</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>On Windows:
    <ul>
      <li>Option 1: Install all the required tools and configurations using Microsoft’s <a href="https://github.com/felixrieseberg/windows-build-tools">windows-build-tools</a> using <code class="highlighter-rouge">npm install --global --production windows-build-tools</code> from an elevated PowerShell or CMD.exe (run as Administrator).</li>
      <li>Option 2: Install tools and configuration manually:
        <ul>
          <li>Visual C++ Build Environment:
            <ul>
              <li>
                <p>Option 1: Install <a href="http://landinghub.visualstudio.com/visual-cpp-build-tools">Visual C++ Build Tools</a> using the <strong>Default Install</strong> option.</p>
              </li>
              <li>
                <p>Option 2: Install <a href="https://www.visualstudio.com/products/visual-studio-community-vs">Visual Studio 2015</a> (or modify an existing installation) and select <em>Common Tools for Visual C++</em> during setup. This also works with the free Community and Express for Desktop editions.</p>
              </li>
            </ul>

            <blockquote>
              <p>:bulb: [Windows Vista / 7 only] requires <a href="http://www.microsoft.com/en-us/download/details.aspx?id=40773">.NET Framework 4.5.1</a></p>
            </blockquote>
          </li>
          <li>Install <a href="https://www.python.org/downloads/">Python 2.7</a> (<code class="highlighter-rouge">v3.x.x</code> is not supported), and run <code class="highlighter-rouge">npm config set python python2.7</code> (or see below for further instructions on specifying the proper Python version and path.)</li>
          <li>Launch cmd, <code class="highlighter-rouge">npm config set msvs_version 2015</code></li>
        </ul>
      </li>
    </ul>

    <p>If the above steps didn’t work for you, please visit <a href="https://github.com/Microsoft/nodejs-guidelines/blob/master/windows-environment.md#compiling-native-addon-modules">Microsoft’s Node.js Guidelines for Windows</a> for additional tips.</p>
  </li>
</ul>

<p>If you have multiple Python versions installed, you can identify which Python
version <code class="highlighter-rouge">node-gyp</code> uses by setting the ‘–python’ variable:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>node-gyp <span class="nt">--python</span> /path/to/python2.7
</code></pre></div></div>

<p>If <code class="highlighter-rouge">node-gyp</code> is called by way of <code class="highlighter-rouge">npm</code> <em>and</em> you have multiple versions of
Python installed, then you can set <code class="highlighter-rouge">npm</code>’s ‘python’ config key to the appropriate
value:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>npm config <span class="nb">set </span>python /path/to/executable/python2.7
</code></pre></div></div>

<p>Note that OS X is just a flavour of Unix and so needs <code class="highlighter-rouge">python</code>, <code class="highlighter-rouge">make</code>, and C/C++.
An easy way to obtain these is to install XCode from Apple,
and then use it to install the command line tools (under Preferences -&gt; Downloads).</p>

<h2 id="how-to-use">How to Use</h2>

<p>To compile your native addon, first go to its root directory:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>my_node_addon
</code></pre></div></div>

<p>The next step is to generate the appropriate project build files for the current
platform. Use <code class="highlighter-rouge">configure</code> for that:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>node-gyp configure
</code></pre></div></div>

<p>Auto-detection fails for Visual C++ Build Tools 2015, so <code class="highlighter-rouge">--msvs_version=2015</code>
needs to be added (not needed when run by npm as configured above):</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>node-gyp configure <span class="nt">--msvs_version</span><span class="o">=</span>2015
</code></pre></div></div>

<p><strong>Note</strong>: The <code class="highlighter-rouge">configure</code> step looks for the <code class="highlighter-rouge">binding.gyp</code> file in the current
directory to process. See below for instructions on creating the <code class="highlighter-rouge">binding.gyp</code> file.</p>

<p>Now you will have either a <code class="highlighter-rouge">Makefile</code> (on Unix platforms) or a <code class="highlighter-rouge">vcxproj</code> file
(on Windows) in the <code class="highlighter-rouge">build/</code> directory. Next invoke the <code class="highlighter-rouge">build</code> command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>node-gyp build
</code></pre></div></div>

<p>Now you have your compiled <code class="highlighter-rouge">.node</code> bindings file! The compiled bindings end up
in <code class="highlighter-rouge">build/Debug/</code> or <code class="highlighter-rouge">build/Release/</code>, depending on the build mode. At this point
you can require the <code class="highlighter-rouge">.node</code> file with Node and run your tests!</p>

<p><strong>Note:</strong> To create a <em>Debug</em> build of the bindings file, pass the <code class="highlighter-rouge">--debug</code> (or
<code class="highlighter-rouge">-d</code>) switch when running either the <code class="highlighter-rouge">configure</code>, <code class="highlighter-rouge">build</code> or <code class="highlighter-rouge">rebuild</code> command.</p>

<h2 id="the-bindinggyp-file">The “binding.gyp” file</h2>

<p>Previously when node had <code class="highlighter-rouge">node-waf</code> you had to write a <code class="highlighter-rouge">wscript</code> file. The
replacement for that is the <code class="highlighter-rouge">binding.gyp</code> file, which describes the configuration
to build your module in a JSON-like format. This file gets placed in the root of
your package, alongside the <code class="highlighter-rouge">package.json</code> file.</p>

<p>A barebones <code class="highlighter-rouge">gyp</code> file appropriate for building a node addon looks like:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="s">"targets"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"target_name"</span><span class="p">:</span> <span class="s">"binding"</span><span class="p">,</span>
      <span class="s">"sources"</span><span class="p">:</span> <span class="p">[</span> <span class="s">"src/binding.cc"</span> <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Some additional resources for addons and writing <code class="highlighter-rouge">gyp</code> files:</p>

<ul>
  <li><a href="http://nodeschool.io/#goingnative">“Going Native” a nodeschool.io tutorial</a></li>
  <li><a href="https://github.com/nodejs/node/tree/master/test/addons/hello-world">“Hello World” node addon example</a></li>
  <li><a href="https://gyp.gsrc.io/docs/UserDocumentation.md">gyp user documentation</a></li>
  <li><a href="https://gyp.gsrc.io/docs/InputFormatReference.md">gyp input format reference</a></li>
  <li><a href="https://github.com/nodejs/node-gyp/wiki/%22binding.gyp%22-files-out-in-the-wild"><em>“binding.gyp” files out in the wild</em> wiki page</a></li>
</ul>

<h2 id="commands">Commands</h2>

<p><code class="highlighter-rouge">node-gyp</code> responds to the following commands:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Command</strong></th>
      <th style="text-align: left"><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">help</code></td>
      <td style="text-align: left">Shows the help dialog</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">build</code></td>
      <td style="text-align: left">Invokes <code class="highlighter-rouge">make</code>/<code class="highlighter-rouge">msbuild.exe</code> and builds the native addon</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">clean</code></td>
      <td style="text-align: left">Removes the <code class="highlighter-rouge">build</code> directory if it exists</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">configure</code></td>
      <td style="text-align: left">Generates project build files for the current platform</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">rebuild</code></td>
      <td style="text-align: left">Runs <code class="highlighter-rouge">clean</code>, <code class="highlighter-rouge">configure</code> and <code class="highlighter-rouge">build</code> all in a row</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">install</code></td>
      <td style="text-align: left">Installs node header files for the given version</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">list</code></td>
      <td style="text-align: left">Lists the currently installed node header versions</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">remove</code></td>
      <td style="text-align: left">Removes the node header files for the given version</td>
    </tr>
  </tbody>
</table>

<h2 id="command-options">Command Options</h2>

<p><code class="highlighter-rouge">node-gyp</code> accepts the following command options:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: left"><strong>Command</strong></th>
      <th style="text-align: left"><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">-j n</code>, <code class="highlighter-rouge">--jobs n</code></td>
      <td style="text-align: left">Run make in parallel</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--target=v6.2.1</code></td>
      <td style="text-align: left">Node version to build for (default=process.version)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--silly</code>, <code class="highlighter-rouge">--loglevel=silly</code></td>
      <td style="text-align: left">Log all progress to console</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--verbose</code>, <code class="highlighter-rouge">--loglevel=verbose</code></td>
      <td style="text-align: left">Log most progress to console</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--silent</code>, <code class="highlighter-rouge">--loglevel=silent</code></td>
      <td style="text-align: left">Don’t log anything to console</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">debug</code>, <code class="highlighter-rouge">--debug</code></td>
      <td style="text-align: left">Make Debug build (default=Release)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--release</code>, <code class="highlighter-rouge">--no-debug</code></td>
      <td style="text-align: left">Make Release build</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">-C $dir</code>, <code class="highlighter-rouge">--directory=$dir</code></td>
      <td style="text-align: left">Run command in different directory</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--make=$make</code></td>
      <td style="text-align: left">Override make command (e.g. gmake)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--thin=yes</code></td>
      <td style="text-align: left">Enable thin static libraries</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--arch=$arch</code></td>
      <td style="text-align: left">Set target architecture (e.g. ia32)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--tarball=$path</code></td>
      <td style="text-align: left">Get headers from a local tarball</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--devdir=$path</code></td>
      <td style="text-align: left">SDK download directory (default=~/.node-gyp)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--ensure</code></td>
      <td style="text-align: left">Don’t reinstall headers if already present</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--dist-url=$url</code></td>
      <td style="text-align: left">Download header tarball from custom URL</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--proxy=$url</code></td>
      <td style="text-align: left">Set HTTP proxy for downloading header tarball</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--cafile=$cafile</code></td>
      <td style="text-align: left">Override default CA chain (to download tarball)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--nodedir=$path</code></td>
      <td style="text-align: left">Set the path to the node binary</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--python=$path</code></td>
      <td style="text-align: left">Set path to the python (2) binary</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--msvs_version=$version</code></td>
      <td style="text-align: left">Set Visual Studio version (win)</td>
    </tr>
    <tr>
      <td style="text-align: left"><code class="highlighter-rouge">--solution=$solution</code></td>
      <td style="text-align: left">Set Visual Studio Solution version (win)</td>
    </tr>
  </tbody>
</table>

<h2 id="configuration">Configuration</h2>

<p><strong><code class="highlighter-rouge">node-gyp</code> responds to environment variables or <code class="highlighter-rouge">npm</code> configuration</strong></p>
<ol>
  <li>Environment variables take the form <code class="highlighter-rouge">npm_config_OPTION_NAME</code> for any of the 
 options listed above (dashes in option names should be replaced by underscores).
 These work also when <code class="highlighter-rouge">node-gyp</code> is invoked directly:<br />
 <code class="highlighter-rouge">$ export npm_config_devdir=/tmp/.gyp</code><br />
 or on Windows<br />
 <code class="highlighter-rouge">&gt; set npm_config_devdir=c:\temp\.gyp</code></li>
  <li>As <code class="highlighter-rouge">npm</code> configuration, variables take the form <code class="highlighter-rouge">OPTION_NAME</code>.
 This way only works when <code class="highlighter-rouge">node-gyp</code> is executed by <code class="highlighter-rouge">npm</code>:<br />
 <code class="highlighter-rouge">$ npm config set [--global] devdir /tmp/.gyp</code><br />
 <code class="highlighter-rouge">$ npm i buffertools</code></li>
</ol>

<h2 id="license">License</h2>

<p>(The MIT License)</p>

<p>Copyright (c) 2012 Nathan Rajlich &lt;nathan@tootallnate.net&gt;</p>

<p>Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
‘Software’), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:</p>

<p>The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED ‘AS IS’, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY
CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE
SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>



      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
    
  </body>
</html>
